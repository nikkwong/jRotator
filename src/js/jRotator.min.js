!function(a,b,c,d){var e=function(b,c){this.elem=b,this.$elem=a(b),this.children=this.$elem.children(),this.$children=a(this.$elem.children()),this.childrenCount=this.$children.length,this.options=c,this.frequencyHandle=0,this.timerHandles={},this.loopPosition=0,this.intervalHandles={},this.resizeTimer=0,this.width=this.$elem.outerWidth(),this.leftBound=this.elem.getBoundingClientRect().left,this.rightBound=this.elem.getBoundingClientRect().right,this.metadata=this.$elem.data("plugin-options")};e.prototype={opts:{lowerBound:480,upperBound:0,translationSpeed:100,flowDirection:"ltr"},init:function(){var d=a(b),e=this.$children[this.childrenCount-1];return this.config=a.extend({},this.opts,this.options,this.metadata),this.fixParentHeight.call(this),d.on("resize focus",this.resetHandler.bind(this)),d.on("blur",function(){this.reset(),this.removeEventHandlers(),this.initPosition.call(this)}.bind(this)),this.initPosition.call(this),this.childrenEqualOrOverflowParent()?(this.addTranslationHandlers.call(this),this.queueController.call(this,e),this.$children.trigger("translate")):this.centerElements.call(this),this},initPosition:function(){var c=0;this.$children.each(function(){$this=a(this),0!==$this.prev().length&&(c+=$this.prev().outerWidth(!0),$this.css({"-webkit-transform":"translate("+c+"px, 0px)",transform:"translate("+c+"px, 0px)"}))})},fixParentHeight:function(){for(var b=0,c=0;c<this.childrenCount;c++)a(this.$children[c]).outerHeight(!0)>b&&(b=a(this.$children[c]).outerHeight(!0));this.$elem.css({height:b})},addTranslationHandlers:function(){var b=this;this.$children.on("translate",function(){var c=a(this),e=(c.outerWidth(),b.getTranslationDuration(this));c.css({"-webkit-transform":"translate(-"+c.outerWidth(!0)+"px, 0px)",transform:"translate(-"+c.outerWidth(!0)+"px, 0px)","-webkit-transition":"-webkit-transform "+e.translationDuration+"ms linear",transition:"transform "+e.translationDuration+"ms linear"})}),this.$children.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){a(this).toggle().css({"-webkit-transform":"translate("+parseInt(b.width)+"px, 0px)",transform:"translate("+parseInt(b.width)+"px, 0px)"}).toggle()})},getTranslationDuration:function(b){var c={};return c.distanceRequired=b.getBoundingClientRect().left-parseInt(a(b).css("marginLeft"))-this.leftBound+a(b).outerWidth(!0),c.translationDuration=c.distanceRequired/this.opts.translationSpeed*1e4,c},queueController:function(b){var c=this.getTranslationDuration(b).distanceRequired-(this.rightBound-this.leftBound);setTimeout(function(){this.loopPosition===this.$children.length&&(this.loopPosition=0),a(this.$children[this.loopPosition]).trigger("translate"),this.queueController(this.$children[this.loopPosition]),this.loopPosition++}.bind(this),c/this.opts.translationSpeed*1e4)},reset:function(){this.$children.each(function(){var b=a(this);b.addClass("notransition"),b[0].offsetHeight,b.removeClass("notransition"),b.css({"-webkit-transform":"",transform:"","-webkit-transition":"",transition:""})}),this.width=this.$elem.outerWidth(),this.leftBound=this.elem.getBoundingClientRect().left,this.rightBound=this.elem.getBoundingClientRect().right},resetHandler:function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){this.reset(),this.removeEventHandlers(),this.init()}.bind(this),250)},removeEventHandlers:function(){this.$children.each(function(){a(this).off()})},childrenEqualOrOverflowParent:function(){var b=this.$children[this.childrenCount-1];return this.elem.getBoundingClientRect().right<=b.getBoundingClientRect().left-parseInt(a(b).css("marginLeft"))},centerElements:function(){for(var b=0,c=0;c<this.childrenCount;c++)b+=a(this.$children[c]).outerWidth(!0);var d=(this.width-b)/2;this.$children.each(function(){a(this).css({"-webkit-transform":"translate("+d+"px, 0px)",transform:"translate("+d+"px, 0px)"}),d+=a(this).outerWidth(!0)})}},e.opts=e.prototype.opts,b.Plugin=e,a.fn.plugin=function(a){return this.each(function(){new e(this,a).init()})}}(jQuery,window,document);